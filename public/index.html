<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gibraltar Bus Tracker 3D</title>
    <link rel="icon" href="/images/favicon.svg" sizes="any" type="image/svg+xml" />
    <link rel="stylesheet" href="/style/style.css" />
    <script async src="https://ga.jspm.io/npm:es-module-shims@1.5.16/dist/es-module-shims.js"></script>
    <script type="esms-options">{ "polyfillEnable": ["json-modules"] }</script>
    <script type="importmap">
      {
        "imports": {
          "three": "./js/three/three.module.js",
          "OrbitControls": "./js/three/OrbitControls.js",
          "GLTFLoader": "./js/three/GLTFLoader.js",
          "ConvexGeometry": "./js/three/ConvexGeometry.js",
          "ConvexHull": "./js/three/ConvexHull.js",
          "LLTP": "./js/lltp.js"
        }
      }
    </script>
    <script>
      /* From https://github.com/PimpTrizkit/PJs/wiki/12.-Shade,-Blend-and-Convert-a-Web-Color-(pSBC.js) */
      const RGB_Log_Blend=(p,c0,c1)=>{var i=parseInt,r=Math.round,P=1-p,[a,b,c,d]=c0.split(","),[e,f,g,h]=c1.split(","),x=d||h,j=x?","+(!d?h:!h?d:r((parseFloat(d)*P+parseFloat(h)*p)*1000)/1000+")"):")";return"rgb"+(x?"a(":"(")+r((P*i(a[3]=="a"?a.slice(5):a.slice(4))**2+p*i(e[3]=="a"?e.slice(5):e.slice(4))**2)**0.5)+","+r((P*i(b)**2+p*i(f)**2)**0.5)+","+r((P*i(c)**2+p*i(g)**2)**0.5)+j;}
    </script>
  </head>

  <body>
    <canvas class="webgl"></canvas>
    <script src="./js/index.js" type="module"></script>
    <div id="gui">
      <div id="sidebar">
        <div class="content">
          <h2 id="stopName">Click on a bus or stop...</h2>
          <p id="stopInfo">for more information</p>
        </div>
        <div class="navBar">
          <a href="#" class="navToggle">
            <img
              src="./images/boxicons/bx-chevron-right.svg"
              class="navTab"
              width="50" height="50" alt="Toggle Sidebar">
          </a>
          <a href="#" class="busLightToggle busLightEnabled">
            <img
              src="./images/boxicons/bx-bulb.svg"
              class="navTab"
              width="50" height="50" alt="Toggle Bus Lights">
          </a>
          <hr noshade class="navBarDivider">
          <nav class="navTabs">
            <a href="#" class="navLink activeNavLink">
              <img
                src="./images/boxicons/bxs-map-alt.svg"
                class="navTab"
                width="50" height="50" alt="Live Map">
            </a>
            <a href="#" class="navLink">
              <img
                src="./images/boxicons/bx-table.svg"
                id="navTabTimings"
                class="navTab"
                width="50" height="50" alt="Route Timings">
            </a>
          </nav>
        </div>
      </div>
      <div id="timings">
        <div id="tableSelector">
          <div id="tableIndexButtons">
            <a href="#" id="tableIndexDown" class="tableButton">ü°ê</a>
            <div>Change Route</div>
            <a href="#" id="tableIndexUp" class="tableButton">ü°í</a>
          </div>
          <div id="tableVariantButton">
            <a href="#" id="tableVariantToggle" class="tableButton">
              <img
                src="./images/boxicons/bx-calendar.svg"
                width="40" height="40" alt="Calendar Icon">
            </a>
            <div id="dayTypeDescriptor">Monday to Friday</div>
          </div>
        </div>
        <table id="timingsTable" class="alternateRows">
          <thead>
            <tr><th></th></tr>
          </thead>
          <tbody></tbody>
        </table>
        <table id="timingsTable2" class="alternateRows">
          <thead>
            <tr><th></th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div id="compassHolder">
        <div class="compassScaleWrapper">
          <img id="compass" src="./images/northArrow.svg" alt="Compass">
        </div>
      </div>
    </div>
  </body>
</html>
